<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="ad.size" content="width=100%,height=250">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>ali</title>
	<link rel="stylesheet" href="normalize.css">
	<link rel="stylesheet" href="main.css">
</head>
<body>

<div class="banner" id="banner">
	<a class="link" href="%link1%" target="_blank">
		<div class="front" id="front"></div>
	</a>
</div>

<script type="text/javascript">

var front = document.getElementById('front');

var transformElement = function(element, transformCmd) {
	element.style.MozTransform = transformCmd;
	element.style.WebkitTransform = transformCmd;
	element.style.OTransform = transformCmd;
	element.style.MsTransform = transformCmd;
	element.style.transform = transformCmd;
};

var normalize = function (delta, percent) {
    return percent * delta * 2 - delta;
};

var move = function(data) {
	var percentX = data.x / data.w;
	var shiftX = normalize(data.w / 20, percentX);
	transformElement(front, 'translateX(' + shiftX + 'px)');
};

window.addEventListener("message", function(e) {
	move(JSON.parse(e.data));
});

// setTimeout(() => move({x: 0, w: 1450}), 1000);

</script>

</body>
</html>
